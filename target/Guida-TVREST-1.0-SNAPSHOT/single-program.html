<html>
<head>
    <link rel="stylesheet" href="style/style.css">
    <script src="jquery-3.5.1.min.js"></script>
    <script type="text/javascript">
       var getUrlParameter = function getUrlParameter(sParam) {
            var sPageURL = window.location.search.substring(1),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;

            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');

                if (sParameterName[0] === sParam) {
                    return typeof sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
                }
            }
            return false;
        };
        
        $(document).ready(function () {
            //let searchParams = new URLSearchParams(window.location.search);
            //var param = searchParams.get('id');
            //var param = getUrlParameter('id');
                
            
            //$('#findChannel').click(function () {
                var resultElement = $('#program'); //div dove iniettare html
               
                resultElement.html('');
                var URL = getUrlParameter('URL');
                console.log(URL);
                var programId = 1;
                //var requestData = $('#channel').val(); //getto quello che scrivo
                $.ajax({
                    //url: 'http://localhost:8080/Guida-TVREST/rest/programs/'+programId, //URL API 
                    url: URL,
                    method: 'get',
                    //data: { channel: requestData },
                    dataType: 'json',
                    success: function (response) {
                         
                            resultElement.html(response[0].program.name +"<br> - "+ response[0].program.description+"<br>"+response[0].program.genre+"<br>"+response[0].program.link+"<br>"+response[0].program.genre);  
                            /*response.forEach(function (element, i){
                                
                                var div = `<div class="singolo_canale">${element.schedule.program} in onda dalle ${element.schedule.from}</div>`; 
                                $("#canali").append(div);
                                
                            });*/
                        
                    },
                    error: function (err) {
                        alert(err);
                    }
                });
            //});
        });
        
        
    </script>
</head>
<body style="font-family:Arial">
    
    <br /><br />
    <div id="program">
       
    </div>
</body>
</html>